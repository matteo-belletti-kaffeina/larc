(function(t){var a=Math.PI,e=a/2,i="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,r="ontouchstart"in window,n={backward:["bl","tl"],forward:["br","tr"],all:["tl","bl","tr","br"]},s=false,o=false,f,h={page:1,shadows:true,duration:600,acceleration:true,force_open:false,block_swipe:false},l={back:null,corners:"forward",cornerSize:100,shadows:true,duration:600,acceleration:true,force_open:false,block_swipe:false},c=function(t,a,e,i){return{css:{position:"absolute",top:t,left:a,overflow:i||"hidden","z-index":e||"auto"}}},d=function(t,a,e,i,r){var n=1-r,s=n*n*n,o=r*r*r;return v(Math.round(s*t.x+3*r*n*n*a.x+3*r*r*n*e.x+o*i.x),Math.round(s*t.y+3*r*n*n*a.y+3*r*r*n*e.y+o*i.y))},g=function(t){return t/180*a},u=function(t){return t/a*180},v=function(t,a){return{x:t,y:a}},b=function(t,a,e){return i&&e?" translate3d("+t+"px,"+a+"px, 0px) ":" translate("+t+"px, "+a+"px) "},w=function(t){return" rotate("+t+"deg) "},x={updateOptions:function(a,e){e=typeof e!=="undefined"?e:{};var i=this.data(),r=i.pages;for(var n in r){r[n].data().pageFlip.opt=t.extend(r[n].data().pageFlip.opt,a,e)}i.opt=t.extend(i.opt,a)},updatePageOptions:function(a){var e=this.data(),i=e.pages;for(var r in i){i[r].data().pageFlip.opt=t.extend(i[r].data().pageFlip.opt,a)}},init:function(a){var e,n,p=this.data(),f=this.children(),l=f.length;a=t.extend({width:this.width(),height:this.height()},h,a);p.opt=a;p.pageObjs={};p.pages={};p.pageWrap={};p.pagePlace={};p.pageMv=[];p.totalPages=l;this.css({position:"relative"});if(i&&!r&&a.acceleration)this.transform(b(0,0,true));for(e=1;e<=l;e++){p.pagePlace[e]=e;p.pageObjs[e]=t(f[e-1]).addClass("turn-page p"+e);p.pageWrap[e]=t("<div/>",{"class":"turn-page-wrapper",css:{position:"absolute"}}).attr("page",e).appendTo(this).prepend(p.pageObjs[e])}for(e=1;e<=l;e++){n=e%2==0;p.pages[e]=p.pageWrap[e].css(n?{top:0,left:0}:{top:0,right:0}).children(":first").flip({next:n?e-1:e+1,page:e,turn:this,force_open:a.force_open,block_swipe:a.block_swipe,duration:a.duration,acceleration:a.acceleration,corners:n?"backward":"forward",back:n?p.pageObjs[e-1]:p.pageObjs[e+1],backShadow:a.shadows&&e!=2&&e!=l-1,frontShadow:a.shadows}).bind("pressed",x._pressed).bind("released",x._released).bind("start",x._start).bind("end",x._end).bind("flip",x._flip)}s=a.force_open;o=a.block_swipe;if(a.force_open)a.page=Math.max(Math.min(a.page,p.totalPages-1),2);x.page.call(this,a.page);p.done=true;this.turn("size",a.width,a.height);return this},size:function(t,a){if(t&&a){var e=this.data(),i=t/2,r;this.css({width:t,height:a});for(r=1;r<=e.totalPages;r++){e.pageWrap[r].css({width:i,height:a});if(e.pages[r])e.pages[r].css({width:i,height:a})}this.turn("resize");return this}else{return{width:this.width(),height:this.height()}}},_visiblePages:function(t){var t=t||this.data().page;return t%2==0?[t,t+1]:[t-1,t]},_removeMv:function(t){var a,e=this.data();for(a=0;a<e.pageMv.length;a++){if(e.pageMv[a]==t){e.pageMv.splice(a,1);a--}}},_addMv:function(t){var a=this.data();x._removeMv.call(this,t);a.pageMv.push(t)},view:function(t){var a=this.data(),e=x._visiblePages.call(this,t);return[a.pages[e[0]]?e[0]:0,a.pages[e[1]]?e[1]:0]},stop:function(){var t=this.data(),a;t.pageMv=[];if(t.tpage){t.page=t.tpage;delete t["tpage"]}this.turn("update");for(a=1;a<=t.totalPages;a++){var e=t.pages[a].data(),i=e.pageFlip.opt;t.pages[a].flip("hideThumbIndex");m._moveBackPage.call(t.pages[a],null);t.pagePlace[i.next]=i.next;if(i.force){i.next=i.page%2==0?i.page-1:i.page+1;t.pages[a].flip("setBackPage",t.pageObjs[i.next]);delete i["force"]}}return this},page:function(t){var a=this.data(),e=this.turn("view");if(pg=a.pages[t]){if(!a.done||(!e[0]||t>=e[0])&&(!e[1]||t<=e[1])){a.tpage=t;this.turn("stop");this.trigger("turned",[t,pg])}else{a.tpage=t;this.turn("stop");var i,r,n=this.turn("view",t);if(e[1]&&t>e[1]){i=e[1];r=n[0]}else if(e[0]&&t<e[0]){i=e[0];r=n[1]}var s=a.pages[i].data().pageFlip.opt,o;a.tpage=r;if(s.next!=r){s.next=r;a.pagePlace[s.next]=s.page;s.force=true;m._moveBackPage.call(a.pages[i],false);a.pages[i].flip("setBackPage",a.pageObjs[r])}a.pages[i].flip("turnPage")}}else return e[0]||e[1];if(t&&a.opt.force_open)y(t,a.totalPages);return this},next:function(){if(this.data().opt.block_swipe)return this;if(!this.data().opt.force_open||this.data().opt.force_open&&!_(this.data().page,"next",this.data().totalPages))x._moveTo.call(this,1);return this},previous:function(){if(this.data().opt.block_swipe)return this;if(!this.data().opt.force_open||this.data().opt.force_open&&!_(this.data().page,"previous",this.data().totalPages))x._moveTo.call(this,-1);return this},_moveTo:function(t){var a,e=this.data(),i=x._visiblePages.call(this,e.tpage||e.page)[t==1?1:0],r=i+t,n=function(t){return e.pages[t].data().pageFlip};for(a=0;a<e.pageMv.length;a++){if(n(e.pageMv[a]).opt.force){this.turn("stop");break}}if(e.pages[r]){if(e.pages[r])if(e.pages[r].flip("moving")||e.pagePlace[i]==r){var s=n(r).opt;x._removeMv.call(this,s.pageMv);x._addMv.call(this,i);e.tpage=r;s.pageMv=i;e.pages[r].flip("hideThumbIndex",true);e.pages[i].trigger("flip");this.turn("update")}else{e.tpage=r;if(n(i).fwrapper.is(":visible")){var s=n(i).opt;x._removeMv.call(this,s.pageMv);x._addPage.call(e.pages[i])}e.pages[i].flip("turnPage")}}},_addPage:function(){var a=t(this).data().pageFlip.opt,e=a.turn,i=e.data();a.pageMv=a.page;x._addMv.call(e,a.pageMv);i.pagePlace[a.next]=a.page;e.turn("update")},_start:function(a){var e=t(this).data().pageFlip.opt;a.stopPropagation();x._addPage.call(this);e.turn.trigger("start",[e.page])},_end:function(a,e){a.stopPropagation();var i=t(this),r=i.data().pageFlip.opt,n=r.turn,s=n.data();if(e||s.tpage){if(s.tpage==r.next||s.pageMv.length==0){s.page=s.tpage||r.next;delete s["tpage"];n.turn("page",s.page)}if(r.force){r.next=r.page%2==0?r.page-1:r.page+1;i.flip("setBackPage",n.data().pageObjs[r.next]);delete r["force"]}}else{x._removeMv.call(n,r.pageMv);n.turn("update")}n.trigger("end",[r.page,this])},resize:function(){var t=this.data();for(p=1;p<=t.totalPages;p++)t.pages[p].flip("resize",true)},calculateZ:function(t){var a=this,e=this.data(),i,r,n,s,o,p=e.totalPages,f=t.length,h={pageZ:{},partZ:{},pageV:{}},l=function(t){return t.data().pageFlip.opt.next},c=function(t){var e=a.turn("view",t);if(e[0])h.pageV[e[0]]=true;if(e[1])h.pageV[e[1]]=true};var d=this.turn("view"),g=d[0]||d[1];for(var u=0;u<f;u++){i=t[u];r=l(e.pages[i]);n=e.pagePlace[i];c(i);c(r);s=e.pagePlace[r]==r?r:i;o=e.totalPages-Math.abs(g-s);h.pageZ[s]=o;h.partZ[n]=e.totalPages*2+Math.abs(g-s);if(s%2!=0&&e.pages[s-1]){o=o-(f-1);h.pageZ[s-1]=o}else if(s%2==0&&e.pages[s+1]){o=o-(s-1);h.pageZ[s+1]=o}if(o<p)p=o}for(var v in h.pageV){if(!h.pageZ[v]){h.pageZ[v]=--p}}return h},update:function(){var t,a=this.data();if(a.pageMv.length){var e=this.turn("calculateZ",a.pageMv),i=this.turn("view",a.tpage),r;if(a.pagePlace[i[0]]==i[0])r=i[0];else if(a.pagePlace[i[1]]==i[1])r=i[1];for(t=1;t<=a.totalPages;t++){a.pageWrap[t].css({display:e.pageV[t]?"":"none","z-index":e.pageZ[t]||0});a.pages[t].flip("z",e.partZ[t]||null);if(e.pageV[t])a.pages[t].flip("resize");if(a.tpage)a.pages[t].flip("disable",t!=r)}}else{var n,i=this.turn("view");for(t=1;t<=a.totalPages;t++){if(n=t==i[0]||t==i[1])a.pageWrap[t].css({"z-index":a.totalPages,display:""});else if(t==i[0]-2||t==i[1]+2)a.pageWrap[t].css({"z-index":a.totalPages-1,display:""});else a.pageWrap[t].css({"z-index":0,display:"none"});a.pages[t].flip("z",null);a.pages[t].flip("disable",!n)}}},_pressed:function(){var a,e=t(this),i=e.data().pageFlip,r=i.opt.turn,n=i.opt.page,s=r.data().pages;for(a in s)if(a!=n)s[a].flip("disable",true);return this.time=(new Date).getTime()},_released:function(a,e){var i=t(this),r=(new Date).getTime()-this.time,n=i.data().pageFlip;if(r<200||e.x<0||e.x>t(this).width()){a.stopPropagation();n.opt.turn.data().tpage=n.opt.next;n.opt.turn.turn("update");t(i).flip("turnPage")}},_flip:function(){var a=t(this).data().pageFlip.opt;a.turn.trigger("turning",[a.next])},disable:function(t){var a=this.data(),t=typeof t=="undefined"?true:t===true;for(p=1;p<=a.totalPages;p++)a.pages[p].flip("disable",t)}},m={init:function(a){if(a.shadows){a.frontShadow=true;a.backShadow=true}m.setData.call(this,{opt:t.extend({},l,a)});m._addEvents.call(this);m._addPageWrapper.call(this);return this},setData:function(a){var e=this.data();e.pageFlip=t.extend(e.pageFlip||{},a)},_cAllowed:function(){return n[this.data().pageFlip.opt.corners]||this.data().pageFlip.opt.corners},_cornerActivated:function(t){t=r?t.originalEvent.touches:[t];var a,e=this.data().pageFlip,i=e.parent.offset(),n=this.width(),s=this.height(),o=Math.max(0,t[0].pageX-i.left),p=Math.max(0,t[0].pageY-i.top),h=e.opt.cornerSize,l=m._cAllowed.call(this);if(!e.opt.back||o<=0||p<=0||o>=n||p>=s)a=false;else if(o<=h&&p<=h)a="tl";else if(o>=n-h&&p<=h)a="tr";else if(o<=h&&p>=s-h)a="bl";else if(o>=n-h&&p>=s-h)a="br";else{return false}f=a;return jQuery.inArray(a,l)!=-1?{corner:a,x:o,y:p}:false},_c:function(t,a){a=a||0;return{tl:v(a,a),tr:v(this.width()-a,a),bl:v(a,this.height()-a),br:v(this.width()-a,this.height()-a)}[t]},_c2:function(t){return{tl:v(this.width()*2,0),tr:v(-this.width(),0),bl:v(this.width()*2,this.height()),br:v(-this.width(),this.height())}[t]},z:function(t){var a=this.data().pageFlip;a.opt["z-index"]=t;a.fwrapper.css({"z-index":t||parseInt(a.parent.css("z-index"))||0})},resize:function(t){var a=this.data().pageFlip,e=this.width(),i=this.height(),r=Math.round(Math.sqrt(Math.pow(e,2)+Math.pow(i,2)));if(t){a.wrapper.css({width:r,height:r});a.fwrapper.css({width:r,height:r}).children(":first-child").css({width:e,height:i});a.fpage.css({width:i,height:e});if(a.opt.frontShadow)a.ashadow.css({width:i,height:e});if(a.opt.backShadow)a.bshadow.css({width:e,height:i})}if(a.parent.is(":visible")){a.fwrapper.css({top:a.parent.offset().top,left:a.parent.offset().left});if(a.opt.turn)a.fparent.css({top:-a.opt.turn.offset().top,left:-a.opt.turn.offset().left})}this.flip("z",a.opt["z-index"])},_addPageWrapper:function(){var a,e=this.data().pageFlip,i=this.parent();if(!e.wrapper){var r=this.css("left"),n=this.css("top"),s=this.width(),o=this.height(),p=Math.round(Math.sqrt(Math.pow(s,2)+Math.pow(o,2)));e.parent=i;e.fparent=e.opt.turn?e.opt.turn.data().fparent:t("#turn-fwrappers");if(!e.fparent){var f=t("<div/>").hide();f.data().flips=0;if(e.opt.turn){f.css(c(-e.opt.turn.offset().top,-e.opt.turn.offset().left,"auto","visible").css).appendTo(e.opt.turn);e.opt.turn.data().fparent=f}else{f.css(c(0,0,"auto","visible").css).attr("id","turn-fwrappers").appendTo(t("body"))}e.fparent=f}this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"});e.wrapper=t("<div/>",c(0,0,this.css("z-index"))).appendTo(i).prepend(this);e.fwrapper=t("<div/>",c(i.offset().top,i.offset().left)).hide().appendTo(e.fparent);e.fpage=t("<div/>",{"class":"fpage",css:{cursor:"default"}}).appendTo(t("<div/>",c(0,0,0,"visible")).appendTo(e.fwrapper));if(e.opt.frontShadow)e.ashadow=t("<div/>",c(0,0,1)).appendTo(e.fpage);if(e.opt.backShadow)e.bshadow=t("<div/>",c(0,0,1)).css({position:""}).appendTo(i);m.setData.call(this,e);m.resize.call(this,true)}},_displayCorner:function(t){var i=this,r=0,n=0,s,o,p,f,h,l,c=v(0,0),d=v(0,0),g=v(0,0),x=this.width(),M=this.height(),_=Math.tan(n),y=this.data().pageFlip,k=y.opt.acceleration,P=y.wrapper.height(),F=m._c.call(this,t.corner),z=t.corner.substr(0,1)=="t",T=t.corner.substr(1,1)=="l",S=function(){var s=v(F.x?F.x-t.x:t.x,F.y?F.y-t.y:t.y),b=Math.atan2(s.y,s.x),w;n=e-b;r=u(n);w=v(T?x-s.x/2:t.x+s.x/2,s.y/2);var _=n-Math.atan2(w.y,w.x),k=Math.max(0,Math.sin(_)*Math.sqrt(Math.pow(w.x,2)+Math.pow(w.y,2)));g=v(k*Math.sin(n),k*Math.cos(n));if(n>e){g.x=g.x+Math.abs(g.y*Math.tan(b));g.y=0;if(Math.round(g.x*Math.tan(a-n))<M){t.y=Math.sqrt(Math.pow(M,2)+2*w.x*s.x);if(z)t.y=M-t.y;return S()}}o=Math.round(g.y/Math.tan(n)+g.x);if(T)o=x-o;var A=T?o:x-o,I=A*Math.cos(n*2),j=A*Math.sin(n*2),O=A*Math.sin(n),W=m._c2.call(i,t.corner),Z=Math.sqrt(Math.pow(W.x-t.x,2)+Math.pow(W.y-t.y,2));d=v(Math.round(o+(T?-I:I)),Math.round(z?j:M-j));l=Z<x?Z/x:1;if(n>e){var C=a-n,B=P-M/Math.sin(C);c=v(Math.round(B*Math.cos(C)),Math.round(B*Math.sin(C)));if(T)c.x=-c.x;if(z)c.y=-c.y}if(y.opt.frontShadow){h=O>100?(O-100)/O:0;p=v(O*Math.sin(e-n)/M*100,O*Math.cos(e-n)/x*100);if(z)p.y=100-p.y;if(T)p.x=100-p.x}if(y.opt.backShadow){f=v(O*Math.sin(n)/x*100,O*Math.cos(n)/M*100);if(!T)f.x=100-f.x;if(!z)f.y=100-f.y}g.x=Math.round(g.x);g.y=Math.round(g.y);return true},A=function(t,a,e,r){var n=["0","auto"],s=(x-P)*e[0]/100,o=(M-P)*e[1]/100,e=e[0]+"% "+e[1]+"%",g={left:n[a[0]],top:n[a[1]],right:n[a[2]],bottom:n[a[3]]};i.css(g).transform(w(r)+b(t.x,t.y,k),e);y.fpage.parent().css(g);y.wrapper.transform(b(-t.x+s,-t.y+o,k)+w(-r),e);y.fwrapper.transform(b(-t.x+c.x+s,-t.y+c.y+o,k)+w(-r),e);y.fpage.parent().transform(w(r)+b(t.x+d.x-c.x,t.y+d.y-c.y,k),e);if(y.opt.frontShadow)y.ashadow.css({"background-image":"-webkit-gradient(linear, "+(T?100:0)+"% "+(z?100:0)+"%, "+p.x+"% "+p.y+"%, color-stop("+h+",rgba(0,0,0,0)), color-stop("+((1-h)*.8+h)+",rgba(0,0,0,"+.2*l+")), to(rgba(255,255,255,"+.2*l+")) )"});if(y.opt.backShadow)y.bshadow.css({"background-image":"-webkit-gradient(linear, "+(T?0:100)+"% "+(z?0:100)+"%, "+f.x+"% "+f.y+"%,  color-stop(0.8,rgba(0,0,0,0)), color-stop(1, rgba(0,0,0,"+.2*l+")), to(rgba(0,0,0,0)) )"})};switch(t.corner){case"tl":t.x=Math.max(t.x,1);S();A(g,[1,0,0,1],[100,0],r);y.fpage.transform(b(-M,-x,k)+w((90-r*2).toFixed(4)),"100% 100%");y.opt.back.transform(w(90)+b(0,-M,k),"0% 0%");break;case"tr":t.x=Math.min(t.x,x-1);S();A(v(-g.x,g.y),[0,0,0,1],[0,0],-r);y.fpage.transform(b(0,-x,k)+w((-90+r*2).toFixed(4)),"0% 100%");y.opt.back.transform(w(270)+b(-x,0,k),"0% 0%");break;case"bl":t.x=Math.max(t.x,1);S();A(v(g.x,-g.y),[1,1,0,0],[100,100],-r);y.fpage.transform(b(-M,0,k)+w((-90+r*2).toFixed(4)),"100% 0%");y.opt.back.transform(w(270)+b(-x,0,k),"0% 0%");break;case"br":t.x=Math.min(t.x,x-1);S();A(v(-g.x,-g.y),[0,1,1,0],[0,100],r);y.fpage.transform(w((90-r*2).toFixed(4)),"0% 0%");y.opt.back.transform(w(90)+b(0,-M,k),"0% 0%");break}y.p=t},setBackPage:function(t){var a=this.data().pageFlip;a.opt.back=t;a.backParent=t.parent()},_moveBackPage:function(t){var a=this.data().pageFlip;if(a.opt.back){var e=navigator.userAgent;if(e.indexOf("Chrome/17.")!=-1||e.indexOf("Chrome/18.")!=-1){var i=a.opt.back.css("background-image");a.opt.back.css({"background-image":""}).css({"background-image":i})}if(t){if(!((a.ashadow?"1":"0")in a.fpage.children())){m.setData.call(this,{backParent:a.opt.back.parent()});a.fpage.prepend(a.opt.back)}}else{if(a.backParent)a.backParent.prepend(a.opt.back)}}},_showThumbIndex:function(t,a){var e=this.data(),i=e.pageFlip;if(i.opt.back){if(a){var r=this,n=i.p||m._c.call(this,t.corner,1);this.animatef({from:[n.x,n.y],to:[t.x,t.y],duration:500,frame:function(a){m._displayCorner.call(r,{corner:t.corner,x:a[0],y:a[1]})}})}else{m._displayCorner.call(this,t);if(e.effect&&!e.effect.turning)this.animatef(false)}if(!i.fwrapper.is(":visible")){i.fparent.show().data().flips++;m._moveBackPage.call(this,true);i.fwrapper.show();if(i.opt.backShadow)i.bshadow.show();this.trigger("start")}}},hide:function(){var t=this.data().pageFlip;if(--t.fparent.data().flips==0)t.fparent.hide();this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform("","0% 100%");t.wrapper.transform("","0% 100%");t.fwrapper.hide();if(t.opt.backShadow)t.bshadow.hide();t.opt.back.transform("","0% 0%")},hideThumbIndex:function(t){var a=this.data().pageFlip;if(!a.p)return;var e=this,i=a.p,r=function(){a.p=null;e.flip("hide");e.trigger("end",[false])};if(t){var n,s,o=m._c.call(this,i.corner),p=i.corner.substr(0,1)=="t",f=Math.abs((i.y-o.y)/2);n=v(i.x,i.y+f);s=v(o.x,p?o.y+f:o.y-f);this.animatef({from:0,to:1,frame:function(t){var a=d(i,n,s,o,t);a.corner=i.corner;m._displayCorner.call(e,a)},complete:r,duration:800,hiding:true})}else{this.animatef(false);r()}},turnPage:function(){var t=this,a=this.data().pageFlip,e=a.cornerActivated?a.cornerActivated.corner:m._cAllowed.call(this)[0],i=a.p||m._c.call(this,e),r=m._c2.call(this,e);if(a.opt.force_open)y(a.opt.next,a.opt.turn.data().totalPages);this.trigger("flip");this.animatef({from:0,to:1,frame:function(a){var n=d(i,i,r,r,a);n.corner=e;m._showThumbIndex.call(t,n)},complete:function(){t.trigger("end",[true])},duration:a.opt.duration,turning:true});a.cornerActivated=null},moving:function(){return"effect"in this.data()},isTurning:function(){return this.flip("moving")&&this.data().effect.turning},_addEvents:function(){var a=this,e=r?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"};t(document).bind(e.start,function(){return m._eventStart.apply(a,arguments)}).bind(e.move,function(){m._eventMove.apply(a,arguments)}).bind(e.end,function(){m._eventEnd.apply(a,arguments)})},_eventStart:function(t){var a=this.data().pageFlip;if(!a.disabled&&!this.flip("isTurning")){a.cornerActivated=m._cornerActivated.call(this,t);if(a.cornerActivated){m._moveBackPage.call(this,true);this.trigger("pressed",[a.p]);return false}}},_eventMove:function(t){var a=this.data(),e=a.pageFlip,t=r?t.originalEvent.touches:[t];if(!e.disabled)if(e.cornerActivated){var i=e.parent.offset();m._showThumbIndex.call(this,{corner:e.cornerActivated.corner,x:t[0].pageX-i.left,y:t[0].pageY-i.top})}else if(!a.effect&&!r){if(corner=m._cornerActivated.call(this,t[0])){var n=m._c.call(this,corner.corner,e.opt.cornerSize/2);m._showThumbIndex.call(this,{corner:corner.corner,x:n.x,y:n.y},true)}else m.hideThumbIndex.call(this,true)}},_eventEnd:function(){var t=this.data().pageFlip;if(!t.disabled&&t.cornerActivated){var a=jQuery.Event("released");this.trigger(a,[t.p]);if(!a.isPropagationStopped())m.hideThumbIndex.call(this,true)}t.cornerActivated=null},disable:function(t){m.setData.call(this,{disabled:t})}},M=function(t,a,e){if(!e[0]||typeof e[0]=="object")return a.init.apply(t,e);else if(a[e[0]]&&e[0].toString().substr(0,1)!="_")return a[e[0]].apply(t,Array.prototype.slice.call(e,1));else throw e[0]+" is an invalid value"};var _=function(t,a,e){var i=false;if(t<=3&&a=="previous")i=true;if(t+2>=e&&a=="next")i=true;return i};var y=function(t,a){if(s)return;if(t<=3){n={backward:[],forward:["tr","br"],all:["tr","br"]}}else if(t+2>=a){n={backward:["tl","bl"],forward:[],all:["tl","bl"]}}else{n={backward:["tl","bl"],forward:["tr","br"],all:["tl","bl","tr","br"]}}};t(window).on("rfbwp-update-corners",y);var k=function(){n={backward:[],forward:[],all:[]}};t(window).on("rfbwp-disable-corners",k);t.extend(t.fn,{flip:function(t,a){return M(this,m,arguments)},turn:function(t){return M(this,x,arguments)},activePageCorner:function(){return f},transform:function(t,a){if(a)this.css({"transform-origin":a,"-moz-transform-origin":a,"-o-transform-origin":a,"-webkit-transform-origin":a,"-ms-transform-origin":a});return this.css({transform:t,"-moz-transform":t,"-o-transform":t,"-webkit-transform":t,"-ms-transform":t})},animatef:function(t){var a=this.data();if(a.effect)clearInterval(a.effect.handle);if(t){if(!t.to.length)t.to=[t.to];if(!t.from.length)t.from=[t.from];if(!t.easing)t.easing=function(t,a,e,i,r){return i*Math.sqrt(1-(a=a/r-1)*a)+e};var e,i=[],r=t.to.length,n=this,s=t.fps||30,o=-s,p=function(){var e,p=[];o=Math.min(t.duration,o+s);for(e=0;e<r;e++)p.push(t.easing(1,o,t.from[e],i[e],t.duration));t.frame(r==1?p[0]:p);if(o==t.duration){clearInterval(a.effect.handle);delete a["effect"];n.data(a);if(t.complete)t.complete()}};for(e=0;e<r;e++)i.push(t.to[e]-t.from[e]);a.effect=t;a.effect.handle=setInterval(p,s);this.data(a);p()}else{delete a["effect"]}}});t.has3d=i;t.isTouch=r})(jQuery);